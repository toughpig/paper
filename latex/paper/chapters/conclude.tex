% !TeX root = ../main.tex

\chapter{结论与展望}
% \section{总结}
随着RISC-V指令集架构的不断完善,RISC-V软件生态的不断蓬勃发展,未来的芯片设计与开发行业将越来越多地看到RISC-V的身影。本文依托RISC-V芯片设计与开发项目,实现了RISC-V指令集模拟器,用于RISC-V架构软件的移植和开发工作,并辅助进行处理器验证。本模拟器完成了既定的功能需求,使得芯片开发团队可以脱离硬件平台进行系统软件移植,开发和测试工作,并且提供了丰富的调试手段,极大地缩短了芯片开发过程中的软硬件适配过程。主要完成的工作如下:


(1)参照RISC-V用户手册,特权级架构文档,以及实际的硬件配置方案,对RISC-V架构处理器进行功能建模,对RISC-V标准拓展指令集共196条指令进行C++功能函数模拟,结合系统软件开发人员的需求,确定指令集模拟器的模拟策略,规划具体功能模块的边界,采用面向对象的方法进行模块设计。


(2)实现RISC-V指令集模拟器前后端模块,包括预加载模块,CPU和总线模块,中断控制器模块,调试和UI模块。设计并实现平台级中断控制器和部分外设模拟,可以直接在模拟器平台上进行外设驱动的适配；结合实际项目需求,实现UI可视化界面进行交互调试,进一步加强模拟器的易用性。在实际的芯片开发项目中帮助团队进行系统软件开发工作,并对处理器进行辅助验证。


本文开发的RISC-V指令集模拟器基本能够满足芯片开发团队的需求,但是后续的测试以及日常的使用过程中,发现本模拟器还是存在一些不足,需要在未来不断地进行改进和优化,主要包括以下两点:


(1)本模拟器没有提供保存快照的功能,有时调试过程中出现了异常的状态,因为随机的因素较难复现,所以保存快照的功能还是比较重要的。


(2)本模拟器的一大特色就是能够通过PLIC对各种外设进行模拟,并进行驱动程序的前期适配,这就经常需要对外设进行模拟,这部分的模拟主要参照各个设备厂商IP,对于模拟过程可能产生的错误很难及时发现,对于新设备的模拟也很难在之前的设备模拟基础上进行拓展。这部分的实现有待进一步抽象提炼,以满足易拓展的需求。

% \section{未来工作}
